<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Enhance a Android Bluetooth Low Energy client part 2</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Enhance a Android Bluetooth Low Energy client part 2</h1>
</header>
<section data-field="subtitle" class="p-summary">
Our Bluetooth Low Energy client from part 1 has a very simple user interface and in this part I’m showing on how to interact with the…
</section>
<section data-field="body" class="e-content">
<section name="cf65" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="3242" id="3242" class="graf graf--h3 graf--leading graf--title"><a href="/@androidcrypto/setup-a-android-bluetooth-low-energy-client-part-1-70f0eea9149b?source=your_stories_page-------------------------------------" data-href="/@androidcrypto/setup-a-android-bluetooth-low-energy-client-part-1-70f0eea9149b?source=your_stories_page-------------------------------------" class="markup--anchor markup--h3-anchor" rel="noopener follow" target="_blank">Enhance a Android Bluetooth Low Energy client part </a>2</h3><p name="8ac7" id="8ac7" class="graf graf--p graf-after--h3">Our Bluetooth Low Energy client from <a href="https://medium.com/@androidcrypto/setup-a-android-bluetooth-low-energy-client-part-1-70f0eea9149b" data-href="https://medium.com/@androidcrypto/setup-a-android-bluetooth-low-energy-client-part-1-70f0eea9149b" class="markup--anchor markup--p-anchor" target="_blank">part 1</a> has a very simple user interface and in this part I’m showing on how to interact with the library that manages the connection for us.</p><p name="809c" id="809c" class="graf graf--p graf-after--p">At the end the UI will look like this screenshot:</p><figure name="2341" id="2341" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*6Sb1y0zVjOz0QNgFYVeTdg.png" data-width="500" data-height="923" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*6Sb1y0zVjOz0QNgFYVeTdg.png"></figure><p name="47f4" id="47f4" class="graf graf--p graf-after--figure">We are still using the library <strong class="markup--strong markup--p-strong">blessed-android</strong> (<a href="https://github.com/weliem/blessed-android" data-href="https://github.com/weliem/blessed-android" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://github.com/weliem/blessed-android</a>) from <strong class="markup--strong markup--p-strong">Martijn van Welie</strong> to handle the complete BLE workflow.</p><p name="058d" id="058d" class="graf graf--p graf-after--p">The first step to enhance the app is to add some buttons and 2 EditTexts to the main_activity.xml file as seeing above.</p><p name="d21e" id="d21e" class="graf graf--p graf-after--p">Let us start with the (MAC) address of the server the client is connected with and open the BluetoothHandler.java.</p><p name="a51c" id="a51c" class="graf graf--p graf-after--p">We do need some Broadcast Intent constants for the server’s MAC address and (later) the current time information:</p><pre name="3d43" id="3d43" class="graf graf--pre graf-after--p">public static final String <em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS </em>= &quot;androidcrypto.bluetoothhandler.peripheralmacaddress&quot;;<br>public static final String <em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS_EXTRA </em>= &quot;androidcrypto.bluetoothhandler.peripheralmacaddress.extra&quot;;<br>public static final String <em class="markup--em markup--pre-em">BLUETOOTHHANDLER_CURRENT_TIME </em>= &quot;androidcrypto.bluetoothhandler.currenttime&quot;;<br>public static final String <em class="markup--em markup--pre-em">BLUETOOTHHANDLER_CURRENT_TIME_EXTRA </em>= &quot;androidcrypto.bluetoothhandler.currenttime.extra&quot;;</pre><p name="7824" id="7824" class="graf graf--p graf-after--pre">The MAC address of the server (“peripheral”) is available on the BluetoothCentralManagerCallback and we are creating a string with the address (17 characters/bytes long) and the name of the device (if no name was given there will be a “null” output). The library handles the connect, a connect failure and the disconnect and in each method we are putting our string and sending it to the system (here it will be the MainActivity who catches the string).</p><pre name="914b" id="914b" class="graf graf--pre graf-after--p">BluetoothCentralManagerCallback:</pre><pre name="2702" id="2702" class="graf graf--pre graf-after--pre">@Override<br>public void onConnectedPeripheral(@NotNull BluetoothPeripheral peripheral) {<br>    Timber.<em class="markup--em markup--pre-em">i</em>(&quot;connected to &#39;%s&#39;&quot;, peripheral.getName());<br>    Intent intent = new Intent(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS</em>);<br>    String returnString = peripheral.getAddress() + &quot; (&quot; +<br>    peripheral.getName() + &quot;)&quot;;<br>    intent.putExtra(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS_EXTRA</em>, returnString);<br>    context.sendBroadcast(intent);<br>}<br><br>@Override<br>public void onConnectionFailed(@NotNull BluetoothPeripheral peripheral, final @NotNull HciStatus status) {<br>    Timber.<em class="markup--em markup--pre-em">e</em>(&quot;connection &#39;%s&#39; failed with status %s&quot;, peripheral.getName(), status);<br>    Intent intent = new Intent(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS</em>);<br>    String returnString = &quot;&quot;;<br>    intent.putExtra(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS_EXTRA</em>, returnString);<br>    context.sendBroadcast(intent);<br>}<br><br>@Override<br>public void onDisconnectedPeripheral(@NotNull final BluetoothPeripheral peripheral, final @NotNull HciStatus status) {<br>    Timber.<em class="markup--em markup--pre-em">i</em>(&quot;disconnected &#39;%s&#39; with status %s&quot;, peripheral.getName(), status);<br>    Intent intent = new Intent(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS</em>);<br>    String returnString = &quot;&quot;;<br>    intent.putExtra(<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS_EXTRA</em>, returnString);<br>    context.sendBroadcast(intent);<br><br>    <em class="markup--em markup--pre-em">// Reconnect to this device when it becomes available again<br>    </em>handler.postDelayed(new Runnable() {<br>        @Override<br>        public void run() {<br>            central.autoConnectPeripheral(peripheral, peripheralCallback);<br>        }<br>    }, 5000);<br>}</pre><p name="f6f3" id="f6f3" class="graf graf--p graf-after--pre">On MainActivity-side there is the BroadcastReceiver that catches the incoming data, Here we are responsible to en- and disable some buttons and set the data in the EditText-field:</p><pre name="9481" id="9481" class="graf graf--pre graf-after--p">private final BroadcastReceiver getPeripheralMacAddressStateReceiver = new BroadcastReceiver() {<br>    @Override<br>    public void onReceive(Context context, Intent intent) {<br>        String dataString = intent.getStringExtra(BluetoothHandler.<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS_EXTRA</em>);<br>        if (dataString == null) return;<br><br>        <em class="markup--em markup--pre-em">// save the peripheralsMacAddress<br>        </em>if (dataString.length() &gt; 16) {<br>            peripheralMacAddress = dataString.substring(0, 17);<br>            connectToHrsDevices.setEnabled(false);<br>            disconnectFromHrsDevice.setEnabled(true);<br>            connectedDevice.setText(dataString);<br>            enableSubscriptions.setEnabled(true);<br>            disableSubscriptions.setEnabled(false);<br>        } else {<br>            peripheralMacAddress = &quot;disconnected&quot;;<br>            connectedDevice.setText(peripheralMacAddress);<br>            connectToHrsDevices.setEnabled(true);<br>            disconnectFromHrsDevice.setEnabled(false);<br>            enableSubscriptions.setEnabled(false);<br>            disableSubscriptions.setEnabled(false);<br>        }<br>    }<br>};</pre><p name="1b88" id="1b88" class="graf graf--p graf-after--pre">Do not forget to register the receiver on app’s creation:</p><pre name="175b" id="175b" class="graf graf--pre graf-after--p">registerReceiver(getPeripheralMacAddressStateReceiver, new IntentFilter(BluetoothHandler.<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_PERIPHERAL_MAC_ADDRESS</em>));<br>registerReceiver(currentTimeDataReceiver, new IntentFilter(BluetoothHandler.<em class="markup--em markup--pre-em">BLUETOOTHHANDLER_CURRENT_TIME</em>));</pre><p name="0343" id="0343" class="graf graf--p graf-after--pre">and unregister the receiver on app’s destroy:</p><pre name="b425" id="b425" class="graf graf--pre graf-after--p">@Override<br>protected void onDestroy() {<br>    super.onDestroy();<br>    <em class="markup--em markup--pre-em">// new in part 2<br>    </em>unregisterReceiver(getPeripheralMacAddressStateReceiver);<br>    unregisterReceiver(currentTimeDataReceiver);<br>    ...<br><br>}</pre><p name="85c8" id="85c8" class="graf graf--p graf-after--pre">As soon the client (BluetoothHandler) connects to a server we receive the MAC address of the server and it will shown in the EditText.</p><p name="9907" id="9907" class="graf graf--p graf-after--p">Now we would like to scan for and connect to a server not on app’s startup but on a button click (here: “connect to device with heart rate service”). For this we need to get any kind of internal connection between UI (MainActivity) and client (BluetoothHandler.java) and there is one when getting the instance of the BluetoothHandler inside of MainActivity. We define a bluetoothHandler variable and use the getInstance-assignment to have the Handler available in MainActivity.</p><pre name="b432" id="b432" class="graf graf--pre graf-after--p">BluetoothHandler bluetoothHandler;</pre><pre name="249f" id="249f" class="graf graf--pre graf-after--pre">private void initBluetoothHandler()<br>{<br>    <em class="markup--em markup--pre-em">// BluetoothHandler.getInstance(getApplicationContext());<br>    // new in part 2<br>    </em>bluetoothHandler = BluetoothHandler.<em class="markup--em markup--pre-em">getInstance</em>(getApplicationContext());<br>}</pre><p name="2557" id="2557" class="graf graf--p graf-after--pre">This handle is used inside a onButtonClick-listener and we send the task direct to BluetoothHandler.java:</p><pre name="dfee" id="dfee" class="graf graf--pre graf-after--p">connectToHrsDevices.setOnClickListener(new View.OnClickListener() {<br>    @Override<br>    public void onClick(View view) {<br>        if (bluetoothHandler != null) {<br>            Log.<em class="markup--em markup--pre-em">i</em>(&quot;Main&quot;, &quot;connectToHrsDevices&quot;);<br>            bluetoothHandler.connectToHeartRateServiceDevice();<br>        }<br>    }<br>});</pre><p name="4e90" id="4e90" class="graf graf--p graf-after--pre">This is the pendant in BluetoothHandler:</p><pre name="07a0" id="07a0" class="graf graf--pre graf-after--p">public void connectToHeartRateServiceDevice() {<br>    startScanHrs();<br>}</pre><p name="08f8" id="08f8" class="graf graf--p graf-after--pre">This will call a method that runs a scan for server/devices that advertise a Heart Rate Service only:</p><pre name="1441" id="1441" class="graf graf--pre graf-after--p"><em class="markup--em markup--pre-em">// this will connect to HeartRateService devices only<br></em>private void startScanHrs() {<br>    handler.postDelayed(new Runnable() {<br>        @Override<br>        public void run() {<br>            central.scanForPeripheralsWithServices(new UUID[]{<em class="markup--em markup--pre-em">HEART_RATE_SERVICE_UUID</em>});<br>        }<br>    },1000);<br>}</pre><p name="4cdd" id="4cdd" class="graf graf--p graf-after--pre">As soon the client found a server that offers a Heart Rate Service it will connect to this device and on our UI we see the MAC address and the device’s name in the “connected” EditText. I change the enabled-status of the buttons to make clear what are the next options — disconnect or enable all subscriptions. You have noticed that the client does not get any data because I disabled the automatic enabling off all notifications in the BluetoothHandler-class:</p><pre name="dbd4" id="dbd4" class="graf graf--pre graf-after--p">onServicesDiscovered</pre><pre name="b046" id="b046" class="graf graf--pre graf-after--pre"><em class="markup--em markup--pre-em">/* enabling is handled in enableAllSubscriptions<br>peripheral.setNotify(BLOOD_PRESSURE_SERVICE_UUID, BLOOD_PRESSURE_MEASUREMENT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(HEALTH_THERMOMETER_SERVICE_UUID, TEMPERATURE_MEASUREMENT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(HEART_RATE_SERVICE_UUID, HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(PULSE_OXIMETER_SERVICE_UUID, PULSE_OXIMETER_CONTINUOUS_MEASUREMENT_CHAR_UUID, true);<br>peripheral.setNotify(PULSE_OXIMETER_SERVICE_UUID, PULSE_OXIMETER_SPOT_MEASUREMENT_CHAR_UUID, true);<br>peripheral.setNotify(WEIGHT_SCALE_SERVICE_UUID, WEIGHT_SCALE_MEASUREMENT_CHAR_UUID, true);<br>peripheral.setNotify(GLUCOSE_SERVICE_UUID, GLUCOSE_MEASUREMENT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(GLUCOSE_SERVICE_UUID, GLUCOSE_MEASUREMENT_CONTEXT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(GLUCOSE_SERVICE_UUID, GLUCOSE_RECORD_ACCESS_POINT_CHARACTERISTIC_UUID, true);<br>peripheral.setNotify(CONTOUR_SERVICE_UUID, CONTOUR_CLOCK, true);<br> */</em></pre><p name="f6f0" id="f6f0" class="graf graf--p graf-after--pre">Instead we will do this on a click to the “enable subscriptions”-button:</p><pre name="8a8f" id="8a8f" class="graf graf--pre graf-after--p">enableSubscriptions.setOnClickListener(new View.OnClickListener() {<br>    @Override<br>    public void onClick(View view) {<br>        if (bluetoothHandler != null) {<br>            if (peripheralMacAddress.length() &gt; 16) {<br>                Log.<em class="markup--em markup--pre-em">i</em>(&quot;Main&quot;, &quot;enable all subscriptions&quot;);<br>                bluetoothHandler.enableAllSubscriptions(peripheralMacAddress, true);<br>                disconnectFromHrsDevice.setEnabled(false);<br>                disableSubscriptions.setEnabled(true);<br>                enableSubscriptions.setEnabled(false);<br>            }<br>        }<br>    }<br>});</pre><p name="7e58" id="7e58" class="graf graf--p graf-after--pre">For this step we do need the server’s MAC address that we received in the “getPeripheralMacAddressStateReceiver” Broadcast Receiver (see above).</p><p name="9120" id="9120" class="graf graf--p graf-after--p">Now we are changing to the BluetoothHandler.java and need a “receiver” method:</p><pre name="e5e9" id="e5e9" class="graf graf--pre graf-after--p">public void enableAllSubscriptions(String peripheralMacAddress, boolean enable) {<br>    System.<em class="markup--em markup--pre-em">out</em>.println(&quot;*** enableAllSubscriptions: &quot; + enable);<br>    BluetoothPeripheral connectedPeripheral = central.getPeripheral(peripheralMacAddress);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">CURRENT_TIME_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">CURRENT_TIME_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">BLOOD_PRESSURE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">BLOOD_PRESSURE_MEASUREMENT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">HEALTH_THERMOMETER_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">TEMPERATURE_MEASUREMENT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">HEART_RATE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">PULSE_OXIMETER_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">PULSE_OXIMETER_CONTINUOUS_MEASUREMENT_CHAR_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">PULSE_OXIMETER_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">PULSE_OXIMETER_SPOT_MEASUREMENT_CHAR_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">WEIGHT_SCALE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">WEIGHT_SCALE_MEASUREMENT_CHAR_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">GLUCOSE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">GLUCOSE_MEASUREMENT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">GLUCOSE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">GLUCOSE_MEASUREMENT_CONTEXT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">GLUCOSE_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">GLUCOSE_RECORD_ACCESS_POINT_CHARACTERISTIC_UUID</em>, enable);<br>    connectedPeripheral.setNotify(<em class="markup--em markup--pre-em">CONTOUR_SERVICE_UUID</em>, <em class="markup--em markup--pre-em">CONTOUR_CLOCK</em>, enable);<br>}</pre><p name="e2d9" id="e2d9" class="graf graf--p graf-after--pre">Where do we grab the data for the heart rate ? It is again the callback “BluetoothPeripheralCallback” that informs us when something has changed; this time we observe the “onCharacteristicUpdate”</p><pre name="70df" id="70df" class="graf graf--pre graf-after--p">} else if (characteristicUUID.equals(<em class="markup--em markup--pre-em">HEART_RATE_MEASUREMENT_CHARACTERISTIC_UUID</em>)) {<br>    HeartRateMeasurement measurement = new HeartRateMeasurement(value);<br>    Intent intent = new Intent(<em class="markup--em markup--pre-em">MEASUREMENT_HEARTRATE</em>);<br>    intent.putExtra(<em class="markup--em markup--pre-em">MEASUREMENT_HEARTRATE_EXTRA</em>, measurement);<br>    sendMeasurement(intent, peripheral);<br>    Timber.<em class="markup--em markup--pre-em">d</em>(&quot;%s&quot;, measurement);<br>}</pre><p name="f69d" id="f69d" class="graf graf--p graf-after--pre">The data itself is coming from the server and goes to the HeartRateMeasurement-java class and there the data is analyzed and given back to the callback:</p><pre name="414b" id="414b" class="graf graf--pre graf-after--p">HeartRateMeasurement.java</pre><pre name="f9f1" id="f9f1" class="graf graf--pre graf-after--pre">public HeartRateMeasurement(byte[] value) {<br>    BluetoothBytesParser parser = new BluetoothBytesParser(value);<br><br>    <em class="markup--em markup--pre-em">// Parse the flags<br>    </em>int flags = parser.getIntValue(<em class="markup--em markup--pre-em">FORMAT_UINT8</em>);<br>    final int unit = flags &amp; 0x01;<br>    final int sensorContactStatus = (flags &amp; 0x06) &gt;&gt; 1;<br>    final boolean energyExpenditurePresent = (flags &amp; 0x08) &gt; 0;<br>    final boolean rrIntervalPresent = (flags &amp; 0x10) &gt; 0;<br><br>    <em class="markup--em markup--pre-em">// Parse heart rate<br>    </em>this.pulse = (unit == 0) ? parser.getIntValue(<em class="markup--em markup--pre-em">FORMAT_UINT8</em>) : parser.getIntValue(<em class="markup--em markup--pre-em">FORMAT_UINT16</em>);<br>}</pre><p name="8c6e" id="8c6e" class="graf graf--p graf-after--pre">I won’t go too deep in this, the flags are responsible for the data format and you need to know how the data is formatted to get a good result.</p><p name="93a1" id="93a1" class="graf graf--p graf-after--p">The second subscription we like to see is the Current Time Service and it is similar to the Heart Rate and I’m giving just the steps for this:</p><ol class="postList"><li name="712d" id="712d" class="graf graf--li graf-after--p">in MainActivity create a Broadcast Receiver</li><li name="9aa9" id="9aa9" class="graf graf--li graf-after--li">register the receiver on creation</li><li name="e332" id="e332" class="graf graf--li graf-after--li">unregister the receiver on destroy</li><li name="8e90" id="8e90" class="graf graf--li graf-after--li">in BluetoothHandler add an entry in “onCharacteristicUpdate”</li></ol><p name="5826" id="5826" class="graf graf--p graf-after--li">That’s it, now we are receiving the time on the server and the heart beat rate every second (please keep in mind: the interval is given by the server).</p><p name="ff85" id="ff85" class="graf graf--p graf-after--p">To keep a good workflow we cannot disconnect from server without first disabling the subscription.</p><p name="91cf" id="91cf" class="graf graf--p graf-after--p">The complete <strong class="markup--strong markup--p-strong">source code</strong> for the BleClientBlessedPart2 is available on my GitHub repository: <a href="https://github.com/AndroidCrypto/BleClientBlessedPart2" data-href="https://github.com/AndroidCrypto/BleClientBlessedPart2" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">https://github.com/AndroidCrypto/BleClientBlessedPart2</a>.</p><p name="a9bb" id="a9bb" class="graf graf--p graf-after--p">The companion article “<a href="https://medium.com/@androidcrypto/enhance-your-own-android-bluetooth-low-energy-server-part-2-980cac9f910f" data-href="https://medium.com/@androidcrypto/enhance-your-own-android-bluetooth-low-energy-server-part-2-980cac9f910f" class="markup--anchor markup--p-anchor" target="_blank">Enhance your own Android Bluetooth Low Energy server part 2</a>” is published here on medium.com as well.</p><p name="36e8" id="36e8" class="graf graf--p graf-after--p graf--trailing">There is the part 3 article available here on medium: “<a href="https://medium.com/@androidcrypto/add-a-battery-service-listener-to-a-android-bluetooth-low-energy-client-part-3-c70e16ed130a" data-href="https://medium.com/@androidcrypto/add-a-battery-service-listener-to-a-android-bluetooth-low-energy-client-part-3-c70e16ed130a" class="markup--anchor markup--p-anchor" target="_blank">Add a Battery Service listener to a Android Bluetooth Low Energy client part 3</a>”.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@androidcrypto" class="p-author h-card">AndroidCrypto</a> on <a href="https://medium.com/p/200aab7255de"><time class="dt-published" datetime="2022-11-03T22:20:50.147Z">November 3, 2022</time></a>.</p><p><a href="https://medium.com/@androidcrypto/enhance-a-android-bluetooth-low-energy-client-part-2-200aab7255de" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 24, 2023.</p></footer></article></body></html>