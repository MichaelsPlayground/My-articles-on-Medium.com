<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Setup of a Cloud Firestore Database tutorial (step by step)</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Setup of a Cloud Firestore Database tutorial (step by step)</h1>
</header>
<section data-field="subtitle" class="p-summary">
The Firebase environment needs a setup for each product, and in this article I’m setting up the Cloud Firestore Database product. It is…
</section>
<section data-field="body" class="e-content">
<section name="5973" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1ffb" id="1ffb" class="graf graf--h3 graf--leading graf--title">Setup of a Cloud Firestore Database tutorial (step by step)</h3><p name="bcc8" id="bcc8" class="graf graf--p graf-after--h3">The Firebase environment needs a setup for each product, and in this article I’m setting up the <strong class="markup--strong markup--p-strong">Cloud Firestore Database </strong>product. It is part 4 of an article series about the setup of the most used Firebase products. It is based on the first tutorial “Setup of a Firebase project tutorial (step by step)” — please check that you are ready to add a product to a project. There is no code for an Android or Web app (see the links to my other articles for this topic. As most apps require a user authentication you should read the tutorial about the “Authentication” product as well.</p><p name="3bbf" id="3bbf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">What is Firebase ? <em class="markup--em markup--p-em">Firebase</em></strong><em class="markup--em markup--p-em"> is a set of backend cloud computing services and application development platforms provided by Google. It hosts databases, services, authentication, and integration for a variety of applications, including Android, iOS, JavaScript, Node.js, Java, Unity, PHP, and C++. </em>(source: Wikipedia).</p><p name="b0ef" id="b0ef" class="graf graf--p graf-after--p">You may have noticed that this is the tutorial for <strong class="markup--strong markup--p-strong">Cloud Firestore Database</strong> and another for <strong class="markup--strong markup--p-strong">Firebase Realtime Database</strong>, is that just a typo error ? No, it isn’t. The Fire<strong class="markup--strong markup--p-strong">base</strong> RT Database is the older one, Fire<strong class="markup--strong markup--p-strong">store</strong> Database is younger, but both of them are still under development. This is the “official” answer by Google’s Firebase team (see complete answer on <a href="https://firebase.google.com/docs/database/rtdb-vs-firestore" data-href="https://firebase.google.com/docs/database/rtdb-vs-firestore" class="markup--anchor markup--p-anchor" rel="nofollow noopener noopener" target="_blank">https://firebase.google.com/docs/database/rtdb-vs-firestore</a>):</p><p name="17b6" id="17b6" class="graf graf--p graf--startsWithDoubleQuote graf-after--p">“<em class="markup--em markup--p-em">Firebase offers two cloud-based, client-accessible database solutions that support realtime data syncing:</em></p><ul class="postList"><li name="0e65" id="0e65" class="graf graf--li graf-after--p"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Cloud Firestore</em></strong><em class="markup--em markup--li-em"> is Firebase’s newest database for mobile app development. It builds on the successes of the Realtime Database with a new, more intuitive data model. Cloud Firestore also features richer, faster queries and scales further than the Realtime Database.</em></li><li name="1024" id="1024" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">Realtime Database</em></strong><em class="markup--em markup--li-em"> is Firebase’s original database. It’s an efficient, low-latency solution for mobile apps that require synced states across clients in realtime.</em>”</li></ul><p name="9f1e" id="9f1e" class="graf graf--p graf-after--li">Although Firebase products seem to be “free” there a (generous) limits for all products (e.g. on Storage size) and they differ between the Firebase RT Database and the Cloud Firestore Database, for details see <a href="https://firebase.google.com/pricing" data-href="https://firebase.google.com/pricing" class="markup--anchor markup--p-anchor" rel="nofollow noopener noopener" target="_blank">https://firebase.google.com/pricing</a>.</p><p name="b42d" id="b42d" class="graf graf--p graf-after--p">If you want to setup Cloud Firestore Database, you are right here. Choose the product:</p><figure name="ef47" id="ef47" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*wC2AbMzS96GJ1f2KtEdiCA.png" data-width="581" data-height="350" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*wC2AbMzS96GJ1f2KtEdiCA.png"></figure><p name="002d" id="002d" class="graf graf--p graf-after--figure">Click on the button to proceed:</p><figure name="cb13" id="cb13" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*K0sXQ3PF-NJ7bk16VKiwQw.png" data-width="646" data-height="350" src="https://cdn-images-1.medium.com/max/800/1*K0sXQ3PF-NJ7bk16VKiwQw.png"></figure><p name="ad57" id="ad57" class="graf graf--p graf-after--figure">Click on “Create Database” to proceed:</p><figure name="e29a" id="e29a" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*lAWKBz0uFOh37NfCRPJYIw.png" data-width="751" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*lAWKBz0uFOh37NfCRPJYIw.png"></figure><p name="2572" id="2572" class="graf graf--p graf-after--figure">We need to choose at what server location the database should run — chose carefully as you cannot change this setting at a later time. As I’m located in Germany I have chosen “eur3 (Europe)”. Click on “Next”:</p><figure name="0389" id="0389" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*8Zb5idy_tH61rJw1npHGGA.png" data-width="240" data-height="400" src="https://cdn-images-1.medium.com/max/800/1*8Zb5idy_tH61rJw1npHGGA.png"></figure><figure name="ec69" id="ec69" class="graf graf--figure graf-after--figure"><img class="graf-image" data-image-id="1*04h4E62-z0x98pgJNKgfzQ.png" data-width="777" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*04h4E62-z0x98pgJNKgfzQ.png"></figure><p name="f452" id="f452" class="graf graf--p graf-after--figure">The second step is about <strong class="markup--strong markup--p-strong">Security rules </strong>and I don’t really like the two possible options:</p><ul class="postList"><li name="7cd1" id="7cd1" class="graf graf--li graf-after--p">start in start in <strong class="markup--strong markup--li-strong">production mode</strong>: means create an “unusable database” because no data can get appended, deleted or even read. Choose this option if you know what individual rules need to get setup in a following step.</li><li name="fab6" id="fab6" class="graf graf--li graf-after--li">start in <strong class="markup--strong markup--li-strong">test mode</strong>: means the database will allow an unlimited read and write access <strong class="markup--strong markup--li-strong">without any limitations</strong>. As <strong class="markup--strong markup--li-strong">this setup is insecure</strong> the database has a <strong class="markup--strong markup--li-strong">time limit of 1 month</strong>. This option is good for testing purposes but there is a high risk that you forget about the time limit and <br>are surprised when your application stops to work properly.</li></ul><p name="35ef" id="35ef" class="graf graf--p graf-after--li">At this time the database is empty, but you should click on the “Rules” tab to edit the “locked mode”. Change the existing (locking) rule from:</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="lua" name="eabe" id="eabe" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">rules_version = <span class="hljs-string">&#x27;2&#x27;</span>;<br /><br />service cloud.firestore {<br />  <span class="hljs-built_in">match</span> /databases/{database}/documents {<br />    <span class="hljs-built_in">match</span> /{document=**} {<br />      allow <span class="hljs-built_in">read</span>, <span class="hljs-built_in">write</span>: <span class="hljs-keyword">if</span> <span class="hljs-literal">false</span>;<br />    }<br />  }<br />}</span></pre><p name="30d2" id="30d2" class="graf graf--p graf-after--pre">to this values, meaning that only authenticated users are allowed to read and write to documents. This means on the other hand: every authenticated user can edit every document; a better solution could be that all user can read every document, but only the user who had created a document is allowed to edit the data. For more information about “rules” see <a href="https://firebase.google.com/docs/database/security" data-href="https://firebase.google.com/docs/database/security" class="markup--anchor markup--p-anchor" rel="nofollow noopener noopener" target="_blank">https://firebase.google.com/docs/database/security</a>. If you want to “play” with rules visit the “Rules Playground”.</p><pre data-code-block-mode="1" spellcheck="false" data-code-block-lang="lua" name="7ce0" id="7ce0" class="graf graf--pre graf-after--p graf--preV2"><span class="pre--content">rules_version = <span class="hljs-string">&#x27;2&#x27;</span>;<br /><br />service cloud.firestore {<br />  <span class="hljs-built_in">match</span> /databases/{database}/documents {<br />    <span class="hljs-built_in">match</span> /{document=**} {<br />      allow <span class="hljs-built_in">read</span>, <span class="hljs-built_in">write</span>: <span class="hljs-keyword">if</span> request.auth != null;<br />    }<br />  }<br />}</span></pre><figure name="9ee7" id="9ee7" class="graf graf--figure graf-after--pre"><img class="graf-image" data-image-id="1*RxdG1NR3q9Keiu-KJoUdig.png" data-width="726" data-height="350" src="https://cdn-images-1.medium.com/max/800/1*RxdG1NR3q9Keiu-KJoUdig.png"></figure><p name="4c20" id="4c20" class="graf graf--p graf-after--figure">Click on “Publish” to use the new rules.</p><figure name="7e32" id="7e32" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*iI2LCPblb1za56dMD8eVjg.png" data-width="626" data-height="500" src="https://cdn-images-1.medium.com/max/800/1*iI2LCPblb1za56dMD8eVjg.png"></figure><p name="d910" id="d910" class="graf graf--p graf-after--figure">And that’s it, your new database is ready to use.</p><p name="8eb2" id="8eb2" class="graf graf--p graf-after--p">If you just needed an authentication service and the database for your project you are ready to download the “google-services.json” file, move it to your app folder and start developing your app.</p><p name="595b" id="595b" class="graf graf--p graf-after--p">Article series about Firebase:</p><ol class="postList"><li name="1268" id="1268" class="graf graf--li graf-after--p"><a href="https://medium.com/@androidcrypto/setup-of-a-firebase-project-tutorial-step-by-step-a91f0718e7b7" data-href="https://medium.com/@androidcrypto/setup-of-a-firebase-project-tutorial-step-by-step-a91f0718e7b7" class="markup--anchor markup--li-anchor" target="_blank">Setup of a Firebase project</a></li><li name="dcd1" id="dcd1" class="graf graf--li graf-after--li"><a href="https://medium.com/@androidcrypto/setup-of-firebase-authentication-tutorial-step-by-step-20713c15dd30" data-href="https://medium.com/@androidcrypto/setup-of-firebase-authentication-tutorial-step-by-step-20713c15dd30" class="markup--anchor markup--li-anchor" target="_blank">Setup of Firebase Authentication</a></li><li name="b81c" id="b81c" class="graf graf--li graf-after--li"><a href="https://medium.com/@androidcrypto/setup-of-a-firebase-realtime-database-tutorial-step-by-step-be83533ebacb" data-href="https://medium.com/@androidcrypto/setup-of-a-firebase-realtime-database-tutorial-step-by-step-be83533ebacb" class="markup--anchor markup--li-anchor" target="_blank">Setup of a Firebase Realtime Database</a></li><li name="2720" id="2720" class="graf graf--li graf-after--li"><a href="https://medium.com/@androidcrypto/setup-of-a-cloud-firestore-database-tutorial-step-by-step-1ccc9ec52005" data-href="https://medium.com/@androidcrypto/setup-of-a-cloud-firestore-database-tutorial-step-by-step-1ccc9ec52005" class="markup--anchor markup--li-anchor" target="_blank">Setup of a Cloud Firestore Database</a> (this article)</li><li name="a5ab" id="a5ab" class="graf graf--li graf-after--li"><a href="https://medium.com/@androidcrypto/setup-of-firebase-storage-tutorial-step-by-step-5266f4ec1dd2" data-href="https://medium.com/@androidcrypto/setup-of-firebase-storage-tutorial-step-by-step-5266f4ec1dd2" class="markup--anchor markup--li-anchor" target="_blank">Setup of Firebase Storage</a></li><li name="4e96" id="4e96" class="graf graf--li graf-after--li"><a href="https://medium.com/@androidcrypto/finish-the-setup-of-the-firebase-project-for-an-android-app-tutorial-step-by-step-325e13352302" data-href="https://medium.com/@androidcrypto/finish-the-setup-of-the-firebase-project-for-an-android-app-tutorial-step-by-step-325e13352302" class="markup--anchor markup--li-anchor" target="_blank">Finish the setup of the Firebase project for an Android app tutorial (step by step)</a></li><li name="dcf5" id="dcf5" class="graf graf--li graf-after--li">Finish the setup of the Firebase project for a Web app tutorial (step by step): will follow soon</li><li name="f5d4" id="f5d4" class="graf graf--li graf-after--li">Firebase tutorial for an Android app (Java): will follow soon</li><li name="a4af" id="a4af" class="graf graf--li graf-after--li graf--trailing">Firebase tutorial for a Web app (Javascript): will follow soon</li></ol></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@androidcrypto" class="p-author h-card">AndroidCrypto</a> on <a href="https://medium.com/p/1ccc9ec52005"><time class="dt-published" datetime="2023-12-24T10:48:57.489Z">December 24, 2023</time></a>.</p><p><a href="https://medium.com/@androidcrypto/setup-of-a-cloud-firestore-database-tutorial-step-by-step-1ccc9ec52005" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on December 24, 2023.</p></footer></article></body></html>